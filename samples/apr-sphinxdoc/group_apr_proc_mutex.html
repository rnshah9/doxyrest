
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Process Locking Routines &#8212; Apache Portable Runtime Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="enum apr_lockmech_e" href="enum_apr_lockmech_e.html" />
    <link rel="prev" title="struct apr_os_sock_info_t" href="struct_apr_os_sock_info_t.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="enum_apr_lockmech_e.html" title="enum apr_lockmech_e"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="struct_apr_os_sock_info_t.html" title="struct apr_os_sock_info_t"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Apache Portable Runtime Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_APR.html" accesskey="U">Apache Portability Runtime library</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Process Locking Routines</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#typedefs">Typedefs</a></li>
<li><a class="reference internal" href="#global-functions">Global Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="struct_apr_os_sock_info_t.html"
                        title="previous chapter">struct apr_os_sock_info_t</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="enum_apr_lockmech_e.html"
                        title="next chapter">enum apr_lockmech_e</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="process-locking-routines">
<span id="doxid-group-apr-proc-mutex"></span><span id="index-0"></span><h1>Process Locking Routines</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="c1">// typedefs</span>

<span class="k">typedef</span> <span class="k">struct</span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="p">;</span>

<span class="c1">// enums</span>

<span class="k">enum</span> <a class="reference internal" href="enum_apr_lockmech_e.html#doxid-group-apr-proc-mutex-1ga75dd95a48a1e855a87b509b522746ed4"><span class="std std-ref">apr_lockmech_e</span></a><span></span><span class="p">;</span>

<span class="c1">// global functions</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga57a0ad8cc6209dcbc8cf7c4bdf4a2c22"><span class="std std-ref">apr_proc_mutex_create</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">**</span> <span class="n">mutex</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fname</span><span class="p">,</span>
    <a class="reference internal" href="enum_apr_lockmech_e.html#doxid-group-apr-proc-mutex-1ga75dd95a48a1e855a87b509b522746ed4"><span class="std std-ref">apr_lockmech_e</span></a><span></span> <span class="n">mech</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga52c440b92eda07dc9c851a4e98f2ac83"><span class="std std-ref">apr_proc_mutex_child_init</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">**</span> <span class="n">mutex</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fname</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga9af7c9eabf4f99a5a33b41dc322af06f"><span class="std std-ref">apr_proc_mutex_lock</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga7c41927ce5014374eb4fc66d410f9513"><span class="std std-ref">apr_proc_mutex_trylock</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga4ecd9a73fbb0e6e6853e5d0769bbb183"><span class="std std-ref">apr_proc_mutex_unlock</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1gaa692ccd799305e0166fb81f258870830"><span class="std std-ref">apr_proc_mutex_destroy</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga71ec4d283f58e893322f44116e6f8ea2"><span class="std std-ref">apr_proc_mutex_cleanup</span></a><span></span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1gad4dcc5ec2a5a6ede7be178e13f56377a"><span class="std std-ref">apr_proc_mutex_lockfile</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga3e5cf6b6fd0736502efd91312d50881c"><span class="std std-ref">apr_proc_mutex_name</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1gaf4425adc130f83784c552b6bc1563036"><span class="std std-ref">apr_proc_mutex_defname</span></a><span></span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga9d7eda31ec4ad2183ddfcbff2f07daf9"><span class="std std-ref">apr_proc_mutex_pool_get</span></a><span></span><span class="p">(</span><span class="k">const</span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">theproc_mutex</span><span class="p">);</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-group-apr-proc-mutex"></span><h2>Detailed Documentation</h2>
<div class="section" id="typedefs">
<h3>Typedefs</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2">
<span id="index-1"></span><span></span><span class="k">typedef</span> <span class="k">struct</span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span> <span class="n">apr_proc_mutex_t</span>
</pre>
<p>Opaque structure representing a process mutex.</p>
</div>
<div class="section" id="global-functions">
<h3>Global Functions</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga57a0ad8cc6209dcbc8cf7c4bdf4a2c22">
<span id="index-2"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_create</span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">**</span> <span class="n">mutex</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fname</span><span class="p">,</span>
    <a class="reference internal" href="enum_apr_lockmech_e.html#doxid-group-apr-proc-mutex-1ga75dd95a48a1e855a87b509b522746ed4"><span class="std std-ref">apr_lockmech_e</span></a><span></span> <span class="n">mech</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">)</span>
</pre>
<p>Create and initialize a mutex that can be used to synchronize processes.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Check APR_HAS_foo_SERIALIZE defines to see if the platform supports APR_LOCK_foo. Only APR_LOCK_DEFAULT is portable.</p>
</div>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mutex</td>
<td>the memory address where the newly created mutex will be stored.</td>
</tr>
<tr class="row-even"><td>fname</td>
<td>A file name to use if the lock mechanism requires one. This argument should always be provided. The lock code itself will determine if it should be used.</td>
</tr>
<tr class="row-odd"><td>mech</td>
<td><p class="first">The mechanism to use for the interprocess lock, if any; one of</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>APR_LOCK_FCNTL
APR_LOCK_FLOCK
APR_LOCK_SYSVSEM
APR_LOCK_POSIXSEM
APR_LOCK_PROC_PTHREAD
APR_LOCK_DEFAULT     pick the default mechanism for the platform
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td>pool</td>
<td>the pool from which to allocate the mutex.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="enum_apr_lockmech_e.html#doxid-group-apr-proc-mutex-1ga75dd95a48a1e855a87b509b522746ed4"><span class="std std-ref">apr_lockmech_e</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga52c440b92eda07dc9c851a4e98f2ac83">
<span id="index-3"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_child_init</span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">**</span> <span class="n">mutex</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fname</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">)</span>
</pre>
<p>Re-open a mutex in a child process. This function must be called to maintain portability, even if the underlying lock mechanism does not require it.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mutex</td>
<td>The newly re-opened mutex structure.</td>
</tr>
<tr class="row-even"><td>fname</td>
<td>A file name to use if the mutex mechanism requires one. This argument should always be provided. The mutex code itself will determine if it should be used. This filename should be the same one that was passed to <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga57a0ad8cc6209dcbc8cf7c4bdf4a2c22"><span class="std std-ref">apr_proc_mutex_create()</span></a>.</td>
</tr>
<tr class="row-odd"><td>pool</td>
<td>The pool to operate on.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga9af7c9eabf4f99a5a33b41dc322af06f">
<span id="index-4"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_lock</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span>
</pre>
<p>Acquire the lock for the given mutex. If the mutex is already locked, the current thread will be put to sleep until the lock becomes available.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mutex</td>
<td>the mutex on which to acquire the lock.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga7c41927ce5014374eb4fc66d410f9513">
<span id="index-5"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_trylock</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span>
</pre>
<p>Attempt to acquire the lock for the given mutex. If the mutex has already been acquired, the call returns immediately with APR_EBUSY. Note: it is important that the <a class="reference internal" href="group_APR_STATUS_IS.html#doxid-group-a-p-r-s-t-a-t-u-s-i-s-1gabb92ad7b6ef304132de70e9e5cbaa896"><span class="std std-ref">APR_STATUS_IS_EBUSY(s)</span></a> macro be used to determine if the return value was APR_EBUSY, for portability reasons.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mutex</td>
<td>the mutex on which to attempt the lock acquiring.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga4ecd9a73fbb0e6e6853e5d0769bbb183">
<span id="index-6"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_unlock</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span>
</pre>
<p>Release the lock for the given mutex.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mutex</td>
<td>the mutex from which to release the lock.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1gaa692ccd799305e0166fb81f258870830">
<span id="index-7"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_destroy</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span>
</pre>
<p>Destroy the mutex and free the memory associated with the lock.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mutex</td>
<td>the mutex to destroy.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga71ec4d283f58e893322f44116e6f8ea2">
<span id="index-8"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_cleanup</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span>
</pre>
<p>Destroy the mutex and free the memory associated with the lock.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is generally used to kill a cleanup on an already created mutex</p>
</div>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mutex</td>
<td>the mutex to destroy.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1gad4dcc5ec2a5a6ede7be178e13f56377a">
<span id="index-9"></span><span></span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<span class="n">apr_proc_mutex_lockfile</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span>
</pre>
<p>Return the name of the lockfile for the mutex, or NULL if the mutex doesn’t use a lock file</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga3e5cf6b6fd0736502efd91312d50881c">
<span id="index-10"></span><span></span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<span class="n">apr_proc_mutex_name</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span>
</pre>
<p>Display the name of the mutex, as it relates to the actual method used. This matches the valid options for Apache’s AcceptMutex directive</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mutex</td>
<td>the name of the mutex</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1gaf4425adc130f83784c552b6bc1563036">
<span id="index-11"></span><span></span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<span class="n">apr_proc_mutex_defname</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</pre>
<p>Display the name of the default mutex: APR_LOCK_DEFAULT</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga9d7eda31ec4ad2183ddfcbff2f07daf9">
<span id="index-12"></span><a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span>
<span class="n">apr_proc_mutex_pool_get</span><span class="p">(</span><span class="k">const</span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">theproc_mutex</span><span class="p">)</span>
</pre>
<p>Get the pool used by this proc_mutex.</p>
<p class="rubric">Returns:</p>
<p>apr_pool_t the pool</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="enum_apr_lockmech_e.html" title="enum apr_lockmech_e"
             >next</a> |</li>
        <li class="right" >
          <a href="struct_apr_os_sock_info_t.html" title="struct apr_os_sock_info_t"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Apache Portable Runtime Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_APR.html" >Apache Portability Runtime library</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2017, Apache Portable Runtime Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.6.
    </div>
  </body>
</html>